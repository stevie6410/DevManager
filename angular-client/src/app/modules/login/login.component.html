<app-page [title]="title" [backButton]="false">

	<div class="page-body">


		<div class="alert alert-warning flex" *ngIf="authService.redirectUrl && !isLoggingIn">
			<span class="alert-icon fa fa-warning fa-3x"></span>
			<h5 class="warning">
				<strong>Autentication Required</strong><br> You need to login to access {{authService.redirectUrl}}
			</h5>
		</div>

		<div class="col-sm-8">

			<div class="panel panel-primary">
				<div class="panel-heading">
					<h3 class="panel-title"><span class="octicon octicon-sign-in"></span> Login</h3>
				</div>

				<ul class="list-group">
					<li class="list-group-item" *ngIf="!isLoggingIn">
						<form class="form-horizontal" role="form">
							<div class="form-group">
								<label class="col-sm-2 control-label">Username</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="username" placeholder="Username" [(ngModel)]="creds.username">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">Password</label>
								<div class="col-sm-10">
									<input type="password" class="form-control" name="password" placeholder="Password" [(ngModel)]="creds.password">
								</div>
							</div>

							<div class="col-sm-12">
								<div class="btn-group pull-right">
									<button type="button" class="btn btn-primary pull-right" (click)="login()">Login</button>
								</div>
							</div>
						</form>
					</li>
					<li class="list-group-item" *ngIf="isLoggingIn">
						<h2>Logging In</h2>
						<div class="progress progress-striped active">
							<div class="progress-bar" style="width: 100%"></div>
						</div>
					</li>
					<li class="list-group-item" *ngIf="loginFailed">
						<h3 class="text-warning">
							<span class="octicon octicon-alert mega-octicon warning"></span> Login failed
						</h3>
					</li>
				</ul>
			</div>
		</div>
	</div>
</app-page>